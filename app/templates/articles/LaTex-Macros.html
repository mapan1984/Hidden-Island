
  <div class="blog-post">
    <div class="blog-post-info">
      <div class="column">
        <h2 class="blog-post-title">LaTex Macros</h2>
        <p class="blog-post-meta">Tue Mar 28 19:52:51 CST 2017</p>
      </div>
      <div class="column">
        <p class="blog-post-meta">tag: <a href="/tags">LaTex</a></p>
        <p class="blog-post-meta">category: <a href="/categories">code</a></p>
      </div>
    </div><!-- /.blog-post-info -->
    
    <h3 id="newcommand">newcommand</h3>
<p>使用以下命令定义一个新的命令：</p>
<p><code>plaintex
\newcommand{name}[num]{definition}</code></p>
<p><em>name</em>是新命令的名字，<em>num</em>指出新命令的参数个数，默认是0，<em>definition</em>是定义的内容，将来要替换LaTex文档中出现的<em>name</em>命令。</p>
<p>在<em>definition</em>中，使用<code>#1</code>,<code>#2</code>...等代表参数。</p>
<p>LaTex不允许定义同一个命令多次，但提供了一个特殊的命令用来重写之前定义的命令：</p>
<p><code>plaintex
\renewcommand{name}[num]{definition}</code></p>
<p><code>renewcommand</code>与<code>newcommand</code>的用法一致。</p>
<p><code>providecommand</code>命令与<code>newcommand</code>的用法一致，但如果<code>providecommand</code>定义的命令已经存在，LaTex会忽视新定义的命令。</p>
<p>在LaTex2e中，允许增加默认参数：</p>
<p><code>plaintex
\newcommand{name}[num][default]{definition}</code></p>
<p>使用默认参数时，<em>definition</em>中的<code>#1</code>代表第一个默认参数。</p>
<p>调用命令：</p>
<p><code>plaintex
name[present_default_arguments]{argument}</code></p>
<h3 id="newenvironmet">newenvironmet</h3>
<p>使用以下命令定义一个新环境：</p>
<p><code>plaintex
\newenvironmet{name}[num][default]{before}{after}</code></p>
<p><em>name</em>是新环境的名称，<em>num</em>是环境的参数个数，在<em>before</em>和<em>after</em>中使用<code>#1</code>, <code>#2</code>...等代表形参。</p>
<p>使用新环境：</p>
<p><code>plaintex
\begin{name}[present_default_arguments]{argument}
something
\end{name}</code></p>
<p>环境定义中的<em>before</em>会代替<code>\begin{name}</code>，<em>after</em>会代替<code>\end{name}</code>。</p>
<p><code>renewenvironment</code>会重写之前定义的环境。</p>
<h3 id="declare-command-within-new-environment">declare command within new environment</h3>
<p>新命令可以定义在新的环境中，这时为了不与环境的参数混淆，命令的形参使用<code>##1</code>, <code>##2</code>...等代替。</p>
<p><code>plaintex
\newenvironmet{topics}
{ % before
\newcommand{\topic}[2]{\item{##1 / ##2\}}
Topics:
\begin{itemize}
}
{ % after
\end{itemize}
}</code></p>
<h3 id="extending-the-number-of-arguments">extending the number of arguments</h3>
<h3 id="arithmetic">arithmetic</h3>
<h3 id="conditionals">conditionals</h3>
<h3 id="loop">loop</h3>
<h3 id="string">string</h3>
<h3 id="hook">hook</h3>
<p>LaTex提供了两个hooks:</p>
<ul>
<li><code>\AtBeginDocument</code>会执行一组命令当遇到<code>\begin{document}</code></li>
<li><code>\AtEndDocument</code>会执行一组命令当遇到<code>\end{document}</code></li>
</ul>
<h3 id="command-line-latex">command-line LaTex</h3>
  </div><!-- /.blog-post -->
